/**
 * Transr.js v0.3.10
 * Minimalistic CSS3 Transitions and translations helper with feature detection and fallback
 *
 * Juhani Pelli <juhani.pelli@gmail.com>
 * https://github.com/unkhz/transr.js/
 *
 * MIT License Copyright 2012-2016 Juhani Pelli
 */
!function(a,b){"function"==typeof define&&define.amd?define([],b):a.Transr=b(a)}(this,function(a){function b(a){return void 0!==a&&null!==a}function c(){var a,b,c,d=arguments[0],e=r.call(arguments,1);for(a=0,c=e.length;a<c;a++){var f=e[a];if(f)for(b in f)d[b]=f[b]}return d}function d(a){if(u[a])return u[a];var b;void 0!==t.style[a]&&(b=a);for(var c=0,d=["webkit","moz","o","ms"],e=d.length;c<e;c++){var f=d[c]+a.charAt(0).toUpperCase()+a.slice(1);void 0!==document.body.style[f]&&(b=f)}return u[a]=b}function e(a){var b=d(a);return b!==a?"-"+b.replace(/([A-Z])/g,"-$1").toLowerCase():b}function f(a){var b=d("transform");if(!b)return!1;if(void 0!==v[a])return v[a];var c=document.createElement("div");c.style[b]="",c.style[b]=a,document.body.appendChild(c);var e=c.style[b],f="string"==typeof e&&e.length>0;return document.body.removeChild(c),v[a]=f}function g(a,b){var c=b||"translate",d={translate:"px",rotate:"deg",scale:"",skew:"deg"},e=d[c];return void 0===a&&(a="0"+e),"number"==typeof a?a.toString()+e:a}function h(a,b){try{a.removeEventListener("webkitTransitionEnd",b),a.removeEventListener("transitionend",b),a.removeEventListener("oTransitionEnd",b)}catch(a){}}function i(a,b){try{a.addEventListener("webkitTransitionEnd",b),a.addEventListener("transitionend",b),a.addEventListener("oTransitionEnd",b)}catch(a){}}function j(a){a&&(h(a.el,a.onTransitionEnd),clearTimeout(a.endTimeoutId))}function k(a){return 1e3*Number(a.replace(/[^0-9.]/g,""))}function l(a){var b,c=d("transition"),f=d("transitionProperty"),g=d("transitionDuration"),h=d("transitionTimingFunction"),l=d(a.property),m=!!(f&&g&&h&&l);if(!m||a.fail)a.fallback?a.fallback():a.el.style[l]=a.value,a.complete&&a.complete(a.el,a.property);else{var n=a.el,o=e(a.property),p=o+" "+a.duration+" "+a.timingFunction+" "+a.delay,q=k(a.duration)+k(a.delay),r=q+1500,s=!1;a.onTransitionEnd=function(d){var e=[o,a.property].indexOf(d.propertyName)>=0;d.target===n&&e&&(s||(s=!0,j(a),a.transitionId&&delete w[a.transitionId],a.resetTransitionAfterTransitionEnd&&(n.style[c]="",n.style[l]=a.value),clearTimeout(b),a.complete&&a.complete(a.el,a.property)))},a.el.style[c]=p,a.el.style[l]===a.value?r=1:(a.el.style[l]=a.value,0===q?r=1:i(a.el,a.onTransitionEnd)),clearTimeout(a.endTimeoutId),a.endTimeoutId=setTimeout(a.onTransitionEnd,r,{target:a.el,propertyName:o}),a.transitionId&&(j(w[a.transitionId]),w[a.transitionId]=a)}}function m(a,c){var d,e,f,h,i,j,k=["translate","rotate","scale","skew"],l=["X","Y","Z"],m=a.el.style[c]+" ";for(d=0,f=k.length;d<f;d++)for(e=0,h=l.length;e<h;e++)i=k[d]+l[e],j=a[i],b(j)&&(m=m.replace(new RegExp(i+"\\([^\\)]*\\)\\s+")," "),m+=i+"("+g(j,k[d])+") ");return m.replace(/\s+$/,"")}function n(a){var e=a.fallback,g=d("transform"),h=a.value?a.value.join?a.value.join(" "):a.value:m(a,g),i=!!h.match(/Z/);a.use3d&&f("translate3d(0,0,0)")||f("translate(0,0)")&&!i||(a.fail=!0),a.immediate&&g&&!a.fail?(a.transitionId&&j(w[a.transitionId]),p(a.el,g,h),a.complete&&a.complete(a.el,"transform")):l(c(a,{property:"transform",value:h,fallback:function(){e?e():g&&h?p(a.el,g,h):(void 0===a.translateX&&void 0===a.translateY||a.el.style.position&&"static"!==a.el.style.position||(a.el.style.position="relative"),b(a.translateX)&&(a.el.style.left=a.translateX),b(a.translateY)&&(a.el.style.top=a.translateY))}}))}function o(a,c){b(a.x)&&(a[c+"X"]=a.x),b(a.y)&&(a[c+"Y"]=a.y),b(a.z)&&(a[c+"Z"]=a.z),n(a)}function p(a,b,c,e,f){var g=d("transition"),h=d(b);h?g&&a.style[g]?(a.style[g]="",a.style[h]=c):a.style[h]=c:e&&(a.style[e]=void 0!==f?f:c)}function q(a,b,d,e){"[object Array]"!==Object.prototype.toString.call(b)&&(b=[b]);for(var f=0,g=b.length;f<g;f++)a(c({},s,d,b[f]),e)}var r=Array.prototype.slice,s={el:null,duration:"0.5s",timingFunction:"ease",delay:"0s",fallback:null,complete:null,fail:!1,immediate:!1,use3d:!0,resetTransitionAfterTransitionEnd:!0,transitionId:!1},t=document.createElement("div"),u={},v={},w={};return{getStyleProperty:d,canTransform:f,set:p,transition:function(a,b){q(l,a,b)},transform:function(a,b){q(n,a,b)},translate:function(a,b){q(o,a,b,"translate")},rotate:function(a,b){q(o,a,b,"rotate")},scale:function(a,b){q(o,a,b,"scale")},skew:function(a,b){q(o,a,b,"skew")}}});